{
  "version": 3,
  "sources": ["src/app/Service/profile.service.ts"],
  "sourcesContent": ["import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {Register} from '../Models/Register';\r\nimport {Login} from '../Models/Login';\r\nimport {ProfileTotal} from \"../Models/ProfileTotal\";\r\nimport {environment} from \"../../environments/environment.prod\";\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class RegistroService {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    registerUser(user: Register): Observable<any> {\r\n        return this.http.post<any>(environment.apiUrl + '/auth/create', user);\r\n    }\r\n\r\n    login(login: Login): Observable<any> {\r\n        return this.http.post<any>(environment.apiUrl + '/auth/login', login);\r\n    }\r\n\r\n    isBanned(token: string): Observable<any> {\r\n        const headers = new HttpHeaders({ Authorization: token });\r\n        return this.http.get<any>(environment.apiUrl + '/auth/isBanned', { headers });\r\n    }\r\n\r\n\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ProfileService {\r\n    private baseUrl = environment.apiUrl + '/profile'; // Proxy configurado\r\n\r\n    constructor(private http: HttpClient) {}\r\n\r\n    getProfile(token: string): Observable<any> {\r\n        const headers = new HttpHeaders({ Authorization: token });\r\n        return this.http.post<any>(`${this.baseUrl}/getData`, {}, { headers });\r\n    }\r\n\r\n    updateProfile(profile: any, token: string): Observable<any> {\r\n        const headers = new HttpHeaders({ Authorization: token });\r\n        return this.http.put<any>(`${this.baseUrl}/updateData`, profile, { headers });\r\n    }\r\n\r\n    searchProfiles(query: string): Observable<any[]> {\r\n        return this.http.get<any[]>(`${this.baseUrl}/search?query=${query}`);\r\n    }\r\n\r\n    searchProfilesById(id: string): Observable<any[]> {\r\n        return this.http.get<any[]>(`${this.baseUrl}/${id}`);\r\n    }\r\n\r\n    isAdmin() {\r\n      const headers = new HttpHeaders().set('Authorization', `Bearer ${sessionStorage.getItem('token')}`);\r\n      return this.http.get<boolean>(environment.apiUrl + '/auth/ImAdmin', {headers})\r\n    }\r\n\r\n    getRecomendations() {\r\n      const headers = new HttpHeaders().set('Authorization', `Bearer ${sessionStorage.getItem('token')}`);\r\n      return this.http.get<ProfileTotal[]>(environment.apiUrl + '/profile/recommended', {headers})\r\n    }\r\n}\r\n\r\n"],
  "mappings": ";;;;;;;;;;;AAWM,IAAO,mBAAP,MAAO,iBAAe;EACxB,YAAoB,MAAgB;AAAhB,SAAA,OAAA;EAAoB;EAExC,aAAa,MAAc;AACvB,WAAO,KAAK,KAAK,KAAU,YAAY,SAAS,gBAAgB,IAAI;EACxE;EAEA,MAAM,OAAY;AACd,WAAO,KAAK,KAAK,KAAU,YAAY,SAAS,eAAe,KAAK;EACxE;EAEA,SAAS,OAAa;AAClB,UAAM,UAAU,IAAI,YAAY,EAAE,eAAe,MAAK,CAAE;AACxD,WAAO,KAAK,KAAK,IAAS,YAAY,SAAS,kBAAkB,EAAE,QAAO,CAAE;EAChF;;;mCAdS,kBAAe,mBAAA,UAAA,CAAA;AAAA;oFAAf,kBAAe,SAAf,iBAAe,WAAA,YAFZ,OAAM,CAAA;AAEhB,IAAO,kBAAP;AAsBA,IAAO,kBAAP,MAAO,gBAAc;EAGvB,YAAoB,MAAgB;AAAhB,SAAA,OAAA;AAFZ,SAAA,UAAU,YAAY,SAAS;EAEA;EAEvC,WAAW,OAAa;AACpB,UAAM,UAAU,IAAI,YAAY,EAAE,eAAe,MAAK,CAAE;AACxD,WAAO,KAAK,KAAK,KAAU,GAAG,KAAK,OAAO,YAAY,CAAA,GAAI,EAAE,QAAO,CAAE;EACzE;EAEA,cAAc,SAAc,OAAa;AACrC,UAAM,UAAU,IAAI,YAAY,EAAE,eAAe,MAAK,CAAE;AACxD,WAAO,KAAK,KAAK,IAAS,GAAG,KAAK,OAAO,eAAe,SAAS,EAAE,QAAO,CAAE;EAChF;EAEA,eAAe,OAAa;AACxB,WAAO,KAAK,KAAK,IAAW,GAAG,KAAK,OAAO,iBAAiB,KAAK,EAAE;EACvE;EAEA,mBAAmB,IAAU;AACzB,WAAO,KAAK,KAAK,IAAW,GAAG,KAAK,OAAO,IAAI,EAAE,EAAE;EACvD;EAEA,UAAO;AACL,UAAM,UAAU,IAAI,YAAW,EAAG,IAAI,iBAAiB,UAAU,eAAe,QAAQ,OAAO,CAAC,EAAE;AAClG,WAAO,KAAK,KAAK,IAAa,YAAY,SAAS,iBAAiB,EAAC,QAAO,CAAC;EAC/E;EAEA,oBAAiB;AACf,UAAM,UAAU,IAAI,YAAW,EAAG,IAAI,iBAAiB,UAAU,eAAe,QAAQ,OAAO,CAAC,EAAE;AAClG,WAAO,KAAK,KAAK,IAAoB,YAAY,SAAS,wBAAwB,EAAC,QAAO,CAAC;EAC7F;;;mCA/BS,iBAAc,mBAAA,UAAA,CAAA;AAAA;mFAAd,iBAAc,SAAd,gBAAc,WAAA,YAFX,OAAM,CAAA;AAEhB,IAAO,iBAAP;",
  "names": []
}
