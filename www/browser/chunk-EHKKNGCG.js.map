{
  "version": 3,
  "sources": ["src/app/Service/Comment.service.ts", "src/app/Screen/new-comment/new-comment.component.ts", "src/app/Screen/new-comment/new-comment.component.html"],
  "sourcesContent": ["import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {Comment} from '../Models/Comment';\r\nimport {CommentDetails} from \"../Models/CommentDetails\";\r\nimport {environment} from \"../../environments/environment.prod\";\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class CommentService {\r\n    private apiUrl = environment.apiUrl + '/comment';\r\n\r\n    constructor(private http: HttpClient) {}\r\n\r\n    private getHeaders(token: string): HttpHeaders {\r\n        return new HttpHeaders({\r\n            'Authorization': `Bearer ${token}`,\r\n        });\r\n    }\r\n    getCommentsByPostId(token: string, postId: number): Observable<CommentDetails[]> {\r\n        return this.http.get<CommentDetails[]>(environment.apiUrl + `/post/${postId}/comments`, {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n    }\r\n\r\n    createComment(token: string, postId: number, commentContent: string): Observable<Comment> {\r\n        const comment = { postId, content: commentContent };\r\n        return this.http.post<Comment>(`${this.apiUrl}/create`, comment, { headers: this.getHeaders(token) });\r\n    }\r\n\r\n\r\n    deleteComment(token: string, comment: Comment): Observable<void> {\r\n        return this.http.request<void>('delete', `${this.apiUrl}/delete`, { body: comment, headers: this.getHeaders(token) });\r\n    }\r\n\r\n}\r\n", "import {Component, Input} from '@angular/core';\r\nimport {IonicModule, ModalController} from '@ionic/angular';\r\nimport {addIcons} from 'ionicons';\r\nimport {close, send} from 'ionicons/icons';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {CommentService} from '../../Service/Comment.service';\r\n\r\n@Component({\r\n    selector: 'app-new-comment',\r\n    templateUrl: './new-comment.component.html',\r\n    styleUrls: ['./new-comment.component.scss'],\r\n    imports: [\r\n        IonicModule,\r\n        FormsModule,\r\n    ],\r\n    standalone: true\r\n})\r\nexport class NewCommentComponent {\r\n    @Input() postId!: number;\r\n    commentContent: string = '';\r\n\r\n    constructor(private modalController: ModalController, private commentSerive: CommentService) {\r\n        addIcons({ close, send });\r\n    }\r\n\r\n    dismiss() {\r\n        this.modalController.dismiss();\r\n    }\r\n\r\n    submitComment() {\r\n        const token = sessionStorage.getItem('token');\r\n        if (!token) {\r\n            console.error('No se ha encontrado el token');\r\n            return;\r\n        }\r\n        if (!this.postId) {\r\n            console.error('El post no tiene un ID definido');\r\n            return;\r\n        }\r\n        console.log('Creating comment:', this.commentContent);\r\n        console.log('Post ID:', this.postId);\r\n        this.commentSerive.createComment(token, this.postId, this.commentContent).subscribe(\r\n            (response) => {\r\n                console.log('Comment added:', response);\r\n                this.dismiss();\r\n            },\r\n            (error) => {\r\n                console.error('Error adding comment:', error);\r\n            }\r\n        );\r\n    }\r\n}\r\n", "<ion-header>\r\n    <ion-toolbar>\r\n        <ion-title>Nuevo comentario</ion-title>\r\n        <ion-buttons slot=\"end\">\r\n            <ion-button (click)=\"dismiss()\">\r\n                <ion-icon name=\"close\" class=\"send-icon\"></ion-icon>\r\n            </ion-button>\r\n        </ion-buttons>\r\n    </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n    <form (ngSubmit)=\"submitComment()\" class=\"centered-form\">\r\n        <ion-item>\r\n            <ion-label position=\"floating\">Escribe aqu√≠ tu comentario</ion-label>\r\n            <ion-textarea class=\"textArea\" [(ngModel)]=\"commentContent\" name=\"content\" required></ion-textarea>\r\n        </ion-item>\r\n        <div style=\"display: flex; align-items: center; justify-content: center;\">\r\n            <button class=\"bookmarkBtn separated-item2\" type=\"submit\">\r\n        <span class=\"IconContainer\">\r\n            <svg fill=\"white\" viewBox=\"0 0 512 512\" height=\"1em\">\r\n                <path d=\"M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9c.1-.2 .2-.3 .3-.5z\"></path>\r\n            </svg>\r\n        </span>\r\n                <p class=\"text\">Comentar</p>\r\n            </button>\r\n        </div>\r\n    </form>\r\n</ion-content>\r\n"],
  "mappings": "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",
  "names": []
}
